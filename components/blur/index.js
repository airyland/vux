!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.vuxBlur=e():t.vuxBlur=e()}(this,function(){return function(t){function e(o){if(i[o])return i[o].exports;var r=i[o]={exports:{},id:o,loaded:!1};return t[o].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){var o,r;i(4),o=i(2),r=i(5),t.exports=o||{},t.exports.__esModule&&(t.exports=t.exports["default"]),r&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=r)},function(t,e,i){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(3),n=o(r);e["default"]={ready:function(){this._blur=new n["default"](this.$el,{url:this.url,blurAmount:this.blurAmount,imageClass:"bg-blur",duration:100,opacity:1})},props:{blurAmount:{type:Number,"default":10},url:{type:String,required:!0},height:{type:Number,"default":200}},watch:{blurAmount:function(t){this._blur.setBlurAmount(t),this._blur.generateBlurredImage(this.url)},url:function(t){this._blur.generateBlurredImage(t)}}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=window.$,o=function(){return"_"+Math.random().toString(36).substr(2,9)},r={svgns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",createElement:function(t,e){var i=document.createElementNS(r.svgns,t);return e&&r.setAttr(i,e),i},setAttr:function(t,e){for(var i in e)"href"===i?t.setAttributeNS(r.xlink,i,e[i]):t.setAttribute(i,e[i]);return t}},n=function s(t,e){this.internalID=o(),this.$element=i(t),this.$width=this.$element.width(),this.$height=this.$element.height(),this.element=t,this.options=i.extend({},s.DEFAULTS,e),this.$overlayEl=this.createOverlay(),this.$blurredImage=[],this.attachListeners(),this.generateBlurredImage(this.options.url)};n.VERSION="0.0.1",n.DEFAULTS={url:"",blurAmount:10,imageClass:"",overlayClass:"",duration:!1,opacity:1},n.prototype.setBlurAmount=function(t){this.options.blurAmount=t},n.prototype.attachListeners=function(){this.$element.on("ui.blur.loaded",i.proxy(this.fadeIn,this)),this.$element.on("ui.blur.unload",i.proxy(this.fadeOut,this))},n.prototype.fadeIn=function(){this.options.duration&&this.options.duration>0&&this.$blurredImage.animate({opacity:this.options.opacity},{duration:this.options.duration})},n.prototype.fadeOut=function(){this.options.duration&&this.options.duration>0?this.$blurredImage.animate({opacity:0},{duration:this.options.duration}):this.$blurredImage.css({opacity:0})},n.prototype.generateBlurredImage=function(t){var e=this.$blurredImage;this.internalID=o(),e.length>0&&e.remove(),this.$blurredImage=this.createSVG(t,this.$width,this.$height)},n.prototype.createOverlay=function(){return this.options.overlayClass&&""!==this.options.overlayClass?i("<div></div>").prependTo(this.$element).addClass(this.options.overlayClass):!1},n.prototype.createSVG=function(t,e,o){var n=this,s=r.createElement("svg",{xmlns:r.svgns,version:"1.1",width:e,height:o,id:"blurred"+this.internalID,"class":this.options.imageClass,viewBox:"0 0 "+e+" "+o,preserveAspectRatio:"none"}),u="blur"+this.internalID,a=r.createElement("filter",{id:u}),l=r.createElement("feGaussianBlur",{"in":"SourceGraphic",stdDeviation:this.options.blurAmount}),p=r.createElement("image",{x:0,y:0,width:e,height:o,externalResourcesRequired:"true",href:t,style:"filter:url(#"+u+")",preserveAspectRatio:"none"});p.addEventListener("load",function(){n.$element.trigger("ui.blur.loaded")},!0),p.addEventListener("SVGLoad",function(){n.$element.trigger("ui.blur.loaded")},!0),a.appendChild(l),s.appendChild(a),s.appendChild(p);var d=i(s);return n.options.duration&&n.options.duration>0&&(d.css({opacity:0}),window.setTimeout(function(){"0"===d.css("opacity")&&d.css({opacity:1})},this.options.duration+100)),this.element.insertBefore(s,this.element.firstChild),d},n.prototype.createIMG=function(t,e,i){var o=this,r=this.prependImage(t),n=2*this.options.blurAmount>100?100:2*this.options.blurAmount;return r.css({filter:"progid:DXImageTransform.Microsoft.Blur(pixelradius="+n+") ",top:2.5*-this.options.blurAmount,left:2.5*-this.options.blurAmount,width:e+2.5*this.options.blurAmount,height:i+2.5*this.options.blurAmount}).attr("id","blurred"+this.internalID),r.load(function(){o.$element.trigger("ui.blur.loaded")}),this.options.duration&&this.options.duration>0&&window.setTimeout(function(){"0"===r.css("opacity")&&r.css({opacity:1})},this.options.duration+100),r},n.prototype.prependImage=function(t){var e,o=i('<img src="'+t+'" />');return e=this.$overlayEl?o.insertBefore(this.$overlayEl).attr("id",this.internalID).addClass(this.options.imageClass):o.prependTo(this.$element).attr("id",this.internalID).addClass(this.options.imageClass)},e["default"]=n},function(t,e){},function(t,e){t.exports="<div :style=\"{height:height + 'px',position: 'relative',overflow: 'hidden'}\"> <slot></slot> </div>"}])});